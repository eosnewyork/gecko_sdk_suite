<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Connect: Ota Unicast Bootloader Client Plugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Connect
   &#160;<span id="projectnumber">Silicon Labs</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ota__unicast__bootloader__client.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Ota Unicast Bootloader Client Plugin<div class="ingroups"><a class="el" href="group__silabs__connect__af.html">Silicon Labs Connect Application Framework API Reference</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>APIs/callbacks for ota-unicast-bootloader clients.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6f4245a055d80826844caa74a6792890"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__client.html#ga6f4245a055d80826844caa74a6792890">emberAfPluginOtaUnicastBootloaderClientNewIncomingImageCallback</a> (<a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> serverId, uint8_t imageTag)</td></tr>
<tr class="memdesc:ga6f4245a055d80826844caa74a6792890"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked by the OTA Unicast Client plugin when the client starts receiving a new image. The application can choose to start receiving the image or ignore(refuse) it. If the application chooses to receive the image, other images sent out by another server are ignored until the client completes this download.  <a href="#ga6f4245a055d80826844caa74a6792890">More...</a><br /></td></tr>
<tr class="separator:ga6f4245a055d80826844caa74a6792890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf08c5ac644839b6a1b695e19d58a2c4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__client.html#gaaf08c5ac644839b6a1b695e19d58a2c4">emberAfPluginOtaUnicastBootloaderClientIncomingImageSegmentCallback</a> (<a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> serverId, uint32_t startIndex, uint32_t endIndex, uint8_t imageTag, uint8_t *imageSegment)</td></tr>
<tr class="memdesc:gaaf08c5ac644839b6a1b695e19d58a2c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked by the OTA Unicast Bootloader Client plugin when an image segment that is part of an image the application chose to download was received.  <a href="#gaaf08c5ac644839b6a1b695e19d58a2c4">More...</a><br /></td></tr>
<tr class="separator:gaaf08c5ac644839b6a1b695e19d58a2c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2ec9679d0ab014667ecd9450ea89bbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__client.html#gaf2ec9679d0ab014667ecd9450ea89bbf">emberAfPluginOtaUnicastBootloaderClientImageDownloadCompleteCallback</a> (<a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a> status, uint8_t imageTag, uint32_t imageSize)</td></tr>
<tr class="memdesc:gaf2ec9679d0ab014667ecd9450ea89bbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked by the OTA Bootloader Client plugin to indicate that an image download has completed.  <a href="#gaf2ec9679d0ab014667ecd9450ea89bbf">More...</a><br /></td></tr>
<tr class="separator:gaf2ec9679d0ab014667ecd9450ea89bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa446f574846263b3a5ff8df9b67d70f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__client.html#gaa446f574846263b3a5ff8df9b67d70f5">emberAfPluginOtaUnicastBootloaderClientAbortImageDownload</a> (uint8_t imageTag, uint8_t applicationErrorStatus)</td></tr>
<tr class="memdesc:gaa446f574846263b3a5ff8df9b67d70f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">An API for aborting an ongoing image download process.  <a href="#gaa446f574846263b3a5ff8df9b67d70f5">More...</a><br /></td></tr>
<tr class="separator:gaa446f574846263b3a5ff8df9b67d70f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64e9ff6a37aebb608b91f9ee62929ac6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ota__unicast__bootloader__client.html#ga64e9ff6a37aebb608b91f9ee62929ac6">emberAfPluginOtaUnicastBootloaderClientIncomingRequestBootloadCallback</a> (<a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a> serverId, uint8_t imageTag, uint32_t bootloadDelayMs, uint8_t *applicationStatus)</td></tr>
<tr class="memdesc:ga64e9ff6a37aebb608b91f9ee62929ac6"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback invoked by the OTA Unicast Bootloader Client plugin to indicate that an OTA Unicast Bootloader Server has requested to perform a bootload operation at a certain point in time in the future.  <a href="#ga64e9ff6a37aebb608b91f9ee62929ac6">More...</a><br /></td></tr>
<tr class="separator:ga64e9ff6a37aebb608b91f9ee62929ac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>APIs/callbacks for ota-unicast-bootloader clients. </p>
<h1>License</h1>
<p><b>Copyright 2018 Silicon Laboratories Inc. www.silabs.com</b></p>
<p>The licensor of this software is Silicon Laboratories Inc. Your use of this software is governed by the terms of Silicon Labs Master Software License Agreement (MSLA) available at www.silabs.com/about-us/legal/master-software-license-agreement. This software is distributed to you in Source Code format and is governed by the sections of the MSLA applicable to Source Code.</p>
<p>See <a class="el" href="ota-unicast-bootloader-client_8h.html">ota-unicast-bootloader-client.h</a> for source code. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa446f574846263b3a5ff8df9b67d70f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a> emberAfPluginOtaUnicastBootloaderClientAbortImageDownload </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>applicationErrorStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An API for aborting an ongoing image download process. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imageTag</td><td>A 1-byte tag that identifies the image the client should no longer download.</td></tr>
    <tr><td class="paramname">applicationErrorStatus</td><td>A 1-byte error code that shall be reported to the server.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An <a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006" title="OTA Unicast Bootloader return status codes. ">EmberAfOtaUnicastBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006ae369abb8cfbab769ed49e3f293f157ed">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_SUCCESS</a> If the ongoing image download process was successfully aborted.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a802c9b5d12dc393b7639be4f959fa992">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_INVALID_CALL</a> If the client was not currently involved in an image download process or it was currently downloading an image with a different tag. </li>
</ul>
</dd></dl>

</div>
</div>
<a class="anchor" id="gaf2ec9679d0ab014667ecd9450ea89bbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginOtaUnicastBootloaderClientImageDownloadCompleteCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006">EmberAfOtaUnicastBootloaderStatus</a>&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>imageSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked by the OTA Bootloader Client plugin to indicate that an image download has completed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>An <a class="el" href="group__ota__unicast__bootloader__common.html#ga92373b8a2afb398cc614da1ea74e1006" title="OTA Unicast Bootloader return status codes. ">EmberAfOtaUnicastBootloaderStatus</a> value of:<ul>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006ae369abb8cfbab769ed49e3f293f157ed">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_SUCCESS</a> indicating that the full image corresponding to the passed tag has been received. If this is the case, the client previously handed all the image segments to the application using the <a class="el" href="group__ota__unicast__bootloader__client.html#gaaf08c5ac644839b6a1b695e19d58a2c4" title="A callback invoked by the OTA Unicast Bootloader Client plugin when an image segment that is part of ...">emberAfPluginOtaUnicastBootloaderClientIncomingImageSegmentCallback()</a> callback.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a06f41537603db74740974002cc54b9ab">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_FAILED</a> indicating that the client failed to fully download the image and the download process was terminated.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a133fd425819b5e89282b4b32d56e20ed">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_TIMEOUT</a> indicating that the client timed out waiting for a message from the server.</li>
<li><a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006a6aa4b278463a588ad80043771d0f633b">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_ABORTED</a> indicating that the application aborted the ongoing image download process as result of calling the API <a class="el" href="group__ota__unicast__bootloader__client.html#gaa446f574846263b3a5ff8df9b67d70f5" title="An API for aborting an ongoing image download process. ">emberAfPluginOtaUnicastBootloaderClientAbortImageDownload()</a>.</li>
</ul>
</td></tr>
    <tr><td class="paramname">imageTag</td><td>A 1-byte tag of the image this callback refers to.</td></tr>
    <tr><td class="paramname">imageSize</td><td>The total size of the downloaded image in bytes. This parameter is meaningful only in case the status parameter is set to <a class="el" href="group__ota__unicast__bootloader__common.html#gga92373b8a2afb398cc614da1ea74e1006ae369abb8cfbab769ed49e3f293f157ed">EMBER_OTA_UNICAST_BOOTLOADER_STATUS_SUCCESS</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaaf08c5ac644839b6a1b695e19d58a2c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfPluginOtaUnicastBootloaderClientIncomingImageSegmentCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>serverId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>startIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>endIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>imageSegment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked by the OTA Unicast Bootloader Client plugin when an image segment that is part of an image the application chose to download was received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serverId</td><td>The node ID of the server that initiated the new image distribution process.</td></tr>
    <tr><td class="paramname">startIndex</td><td>The index of the first byte of the passed segment.</td></tr>
    <tr><td class="paramname">endIndex</td><td>The index of the last byte of the passed segment.</td></tr>
    <tr><td class="paramname">imageTag</td><td>A 1-byte tag of the image the passed segment belongs to.</td></tr>
    <tr><td class="paramname">imageSegment</td><td>An array containing the image segment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga64e9ff6a37aebb608b91f9ee62929ac6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberAfPluginOtaUnicastBootloaderClientIncomingRequestBootloadCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>serverId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bootloadDelayMs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>applicationStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked by the OTA Unicast Bootloader Client plugin to indicate that an OTA Unicast Bootloader Server has requested to perform a bootload operation at a certain point in time in the future. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serverId</td><td>The ID of the server the request came from.</td></tr>
    <tr><td class="paramname">imageTag</td><td>A 1-byte tag of the image this callback refers to.</td></tr>
    <tr><td class="paramname">bootloadDelayMs</td><td>The delay in milliseconds after which the client has been requested to perform a bootload operation.</td></tr>
    <tr><td class="paramname">applicationStatus</td><td>A 1-byte status set by the client application that shall be reported to the server.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the application accepted the request of bootloading the specified image at the requested time, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6f4245a055d80826844caa74a6792890"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool emberAfPluginOtaUnicastBootloaderClientNewIncomingImageCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ember__types.html#ga432acdaed32cc9f75e60d8610bab52ce">EmberNodeId</a>&#160;</td>
          <td class="paramname"><em>serverId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>imageTag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback invoked by the OTA Unicast Client plugin when the client starts receiving a new image. The application can choose to start receiving the image or ignore(refuse) it. If the application chooses to receive the image, other images sent out by another server are ignored until the client completes this download. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">serverId</td><td>The node ID of the server that initiated the new image distribution process.</td></tr>
    <tr><td class="paramname">imageTag</td><td>A 1-byte tag that identifies the incoming image. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
